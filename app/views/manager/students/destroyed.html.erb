<div class="container">
  <h1>Listing Destroyed Students</h1>
  <div class="row">
    <div class="col-8">
      <%= button_to "Return Home Page", manager_students_url, method: :get, class: "btn btn-outline-primary" %>
    </div>
    <div class="col-4">
      <%= form_tag(manager_students_path, method: :get, class: "input-group") do %>
        <%= text_field_tag :key, params[:key], class: "form-control rounded", placeholder: "Search" %>
        <%= submit_tag 'Search', class: "btn btn-outline-primary" %>
      <% end %>
    </div>
  </div>
  <table class="table">
    <thead>
    <tr>
      <th scope="col" >#</th>
      <th scope="col">ID</th>
      <th scope="col">Avatar</th>
      <th scope="col">First Name</th>
      <th scope="col">Last Name</th>
      <th scope="col">Phone</th>
      <th scope="col">Address</th>
      <th scope="col" colspan="4" class="text-center">Action</th>
    </tr>
    </thead>
    <tbody>
    <% @students.each.with_index(1) do |student, index| %>
      <tr>
        <td><%= index%></td>
        <td><%= student.id %></td>
        <td><%= image_tag student.avatar.url.to_s, width: 70, height: 70, alt: "Avatar" %></td>
        <td><%= student.firstname %></td>
        <td><%= student.lastname %></td>
        <td><%= student.phone %></td>
        <td><%= student.address %></td>
        <td><%= link_to "Delete", really_delete_manager_student_path(student), data: { turbo_method: :delete, turbo_confirm: "Really delete student '#{student.firstname}'?" } %></td>
        <td><%= link_to "Restore", restore_manager_student_path(student), data: { turbo_method: :put, turbo_confirm: "Restore student '#{student.firstname}'?" } %></td>
      </tr>
    <% end %>
    </tbody>
  </table>
  <br>
</div>

<style type="text/css">

</style>